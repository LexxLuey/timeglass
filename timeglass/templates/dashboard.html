{% extends "base.html" %}

{% block title %}Dashboard - TimeGlass{% endblock %}

{% block content %}
<header class="mb-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-2">TimeGlass Dashboard</h1>
    <p class="text-gray-600">Profiling data visualization and analysis</p>
</header>

<!-- Statistics Cards -->
<section id="stats-section" class="mb-8">
    <h2 class="text-xl font-semibold mb-4">Overview</h2>
    <div id="stats-cards" class="grid grid-cols-1 md:grid-cols-4 gap-6">
        <!-- Cards will be populated by JavaScript -->
    </div>
</section>

<!-- Filters -->
<section id="filters-section" class="bg-white rounded-lg shadow p-6 mb-8">
    <h2 class="text-xl font-semibold mb-4">Filters</h2>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
        <input type="text" id="path-filter" placeholder="Path contains..."
               class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <select id="method-filter" class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option value="">All Methods</option>
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
            <option value="DELETE">DELETE</option>
        </select>
        <input type="number" id="status-filter" placeholder="Status code"
               class="border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500">
        <button id="apply-filters" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
            Apply Filters
        </button>
    </div>
</section>

<!-- Requests Table -->
<section id="requests-section" class="bg-white rounded-lg shadow overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
        <h2 class="text-xl font-semibold">Recent Requests</h2>
    </div>
    <div class="overflow-x-auto">
        <table id="requests-table" class="w-full">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Method</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Path</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Duration</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">CPU</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Memory</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <!-- Rows will be populated by JavaScript -->
            </tbody>
        </table>
    </div>
    <div class="px-6 py-4 border-t border-gray-200">
        <button id="load-more" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 hidden">
            Load More
        </button>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', path='js/dashboard.js') }}"></script>
{% endblock %}
